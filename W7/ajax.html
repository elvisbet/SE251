<!DOCTYPE html>
<html>
<head>
<title>AJAX Assignment</title>
	<style type="text/css">
		section{	
			margin-bottom:25px;
		}
		section section{
			width:100%;
			float:left;
			border:1px solid black;
		}
		#main-content section{
			width:33%;
			float:left;
		}
		#main-content{
			margin-bottom:25px;
		}
	</style>
</head>
<body>
	<div id="main-content">
		<script>
		fetch('https://neit-se266-class.herokuapp.com/salaries.php')
        .then(response => response.json())
        .then(people => {
            var body = document.querySelector(`body`);
			var start1=0;
			var start2=0;
			var start3=0;
			var cnt=0
            for (let i = 0; i <100; i++) {
				cnt+=1
				var ind=people[i]
				var sal=ind.salary
				var job=ind.jobTitle
				
				//start=people[0].salary				
				if(start1 < sal && job=="Web Developer"){
					start1=sal
					var name1=ind.name
					var fname1=name1.first
					var lname1=name1.last
					var job1=ind.jobTitle
					var total1=parseInt(sal++)
					
					
				}	
				
				else if(start2 < sal && job=="Database Analyst"){
					start2=sal
					var name2=ind.name
					var fname2=name2.first
					var lname2=name2.last
					var job2=ind.jobTitle
					var total2=sal++
	
				}
				else if(start3 < sal && job=="Software Developer"){
					start3=sal
					var name3=ind.name	
					var fname3=name3.first
					var lname3=name3.last
					var job3=ind.jobTitle	
					var total3=sal++
				}
				
			}
			console.log(total1);
			var tempDiv = document.querySelector(`#main-content`)
			var avg1=total1/cnt
			var avg2=total2/cnt
			var avg3=total3/cnt
			var web=document.querySelector(`#database-analyst-area`)
			web.innerHTML+=fname1+lname1+start1+avg1
			var data=document.querySelector(`#web-developer-area`)
			data.innerHTML+=fname2+lname2+start2+avg2
			var se=document.querySelector(`#software-developer-area`)
			se.innerHTML+=`<p>${fname3} ${lname3} ${start3} ${avg3}`
		
		})
		
	;

		</script>
		<!--
			Find the highest paid employee for each job listed below
			Then use JavaScript to fill in the information
		-->
		<!--Once you are done filling in all of the jobs, you will turn the highest average salary green -->
		<section id="database-analyst-area" >
			<h2>Database Analyst | Highest Paid</h2>
			<h3>First Name:</h3>
			<div class="first"></div>
			<h3>Last Name:</h3>
			<div class="last"><!--The last name goes here--></div>
			<h3>Salary:</h3>
			<div class="salary"><!--The salary goes here--></div>
			<h3>Average Salary:</h3>
			<h3 class="average"><!--The average salary for all database-analysts goes here--></h3>
			
		</section>
     
		<section  id="web-developer-area" >
			<h2>Web Developer | Highest Paid </h2>
			<h3>First Name:</h3>
			<div class="first"></div>
			<h3>Last Name:</h3>
			<div class="last"></div>
			<h3>Salary:</h3>
			<div class="salary"></div>
			<h3>Average Salary:</h3>
			<h3 class="average"></h3>

		</section >

		<section  id="software-developer-area">
			<h2>Software Developer | Highest Paid </h2>
			<h3>First Name:</h3>
			<div class="first"></div>
			<h3>Last Name:</h3>
			<div class="last"></div>
			<h3>Salary:</h3>
			<div class="salary"></div>
			<h3>Average Salary:</h3>
			<h3 class="average"></h3>
		</section >
	</div>
	
	<!--Use the form inputs to search for employees. Then display the employees information in the #output <div>-->
	<section  id="search-area">
		<input type="text" placeholder="First Name" id="first-name">
		<input type="text" placeholder="Last Name" id="last-name">
		<input type="button" id="search-submit" value="search">
		<section id="search-output">
			<h2>Search Output</h2>
			<div class="output">
				<!--Output search info to here.-->
			</div>
		</section>
	</section >

	<!--Use the button inputs to display a list of everyone in that job-->
	<section  id="list-area">
		<input type="button" value="List Database Analysts" id="list-database-analyst">
		<input type="button" value="List Web Developers" id="list-web-developer">
		<input type="button" value="List Software Developers" id="list-software-developers" >
		<section id="list-output">
			<h2>List Output</h2>
			<div class="output">
				<!--Output list info to here.-->
			</div>
		</section>
	</section >

</body>
</html>